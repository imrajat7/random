{"ast":null,"code":"import jwt from \"jsonwebtoken\";\nconst KEY = \"bchdsbbkskvrhkubkvmjvnjxncshyybsj\";\nexport default function (req, res) {\n  if (!req.body) {\n    res.statusCode = 404;\n    res.send(\"body is not present in request\");\n  }\n\n  const {\n    username,\n    password\n  } = req.body;\n  res.json({\n    token: jwt.sign({\n      username,\n      admin: username === \"admin\" && password === \"admin\"\n    }, KEY)\n  });\n  res.json({\n    message: \"hello\"\n  });\n}","map":{"version":3,"sources":["/home/rajat/Desktop/learning/hello-next/pages/api/login.tsx"],"names":["jwt","KEY","req","res","body","statusCode","send","username","password","json","token","sign","admin","message"],"mappings":"AACA,OAAOA,GAAP,MAAgB,cAAhB;AAEA,MAAMC,GAAG,GAAG,mCAAZ;AAEA,eAAe,UAAUC,GAAV,EAA+BC,GAA/B,EAAqD;AAChE,MAAI,CAACD,GAAG,CAACE,IAAT,EAAe;AACXD,IAAAA,GAAG,CAACE,UAAJ,GAAiB,GAAjB;AACAF,IAAAA,GAAG,CAACG,IAAJ,CAAS,gCAAT;AACH;;AACD,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,MAAyBN,GAAG,CAACE,IAAnC;AAEAD,EAAAA,GAAG,CAACM,IAAJ,CAAS;AACLC,IAAAA,KAAK,EAAEV,GAAG,CAACW,IAAJ,CACH;AACIJ,MAAAA,QADJ;AAEIK,MAAAA,KAAK,EAAEL,QAAQ,KAAK,OAAb,IAAwBC,QAAQ,KAAK;AAFhD,KADG,EAKHP,GALG;AADF,GAAT;AAUAE,EAAAA,GAAG,CAACM,IAAJ,CAAS;AAAEI,IAAAA,OAAO,EAAE;AAAX,GAAT;AACH","sourcesContent":["import { NextApiRequest, NextApiResponse } from \"next\";\nimport jwt from \"jsonwebtoken\";\n\nconst KEY = \"bchdsbbkskvrhkubkvmjvnjxncshyybsj\";\n\nexport default function (req: NextApiRequest, res: NextApiResponse) {\n    if (!req.body) {\n        res.statusCode = 404;\n        res.send(\"body is not present in request\");\n    }\n    const { username, password } = req.body;\n\n    res.json({\n        token: jwt.sign(\n            {\n                username,\n                admin: username === \"admin\" && password === \"admin\",\n            },\n            KEY\n        ),\n    });\n\n    res.json({ message: \"hello\" });\n}\n"]},"metadata":{},"sourceType":"module"}